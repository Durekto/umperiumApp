{"version":3,"sources":["../node_modules/@ionic/core/dist/esm-es5/ion-route_4.entry.js","../node_modules/@ionic/core/dist/esm-es5/theme-18cbe2cc.js"],"names":["Route","hostRef","registerInstance","this","url","ionRouteDataChanged","createEvent","prototype","onUpdate","newValue","emit","onComponentProps","oldValue","keys1","Object","keys","keys2","length","_i","keys1_1","key","connectedCallback","defineProperty","get","enumerable","configurable","RouteRedirect","ionRouteRedirectChanged","propDidChange","generatePath","segments","filter","s","join","parsePath","path","split","map","trim","writeNavState","root","chain","direction","index","changed","__awaiter","outlet","route","result","e_1","__generator","_a","label","trys","push","searchNavNode","componentOnReady","sent","setRouteId","id","params","element","markVisible","console","error","QUERY","matches","querySelector","undefined","routeRedirect","routes","find","input","from","to","i","expected","matchesRedirect","matchesIDs","ids","len","Math","min","toLowerCase","matchesPath","inputPath","allparams","RouterSegments","matchesDefault","path_1","segment","data","next","slice","mergeParams","a","b","assign","computePriority","score","level","chain_2","_b","pow","shift","readRedirects","Array","children","el","tagName","readProp","readRoutes","flattenRouterTree","readRouteNodes","node","component","Error","componentProps","prop","hasAttribute","getAttribute","nodes","nodes_1","flattenNode","Router","class_1","previousPath","busy","state","lastState","useHash","ionRouteWillChange","ionRouteDidChange","componentWillLoad","debug","document","body","Promise","resolve","window","addEventListener","once","onRoutesChanged","componentDidLoad","debounce","onRedirectChanged","bind","onPopState","historyDirection","getPath","writeNavStateRoot","onBackButton","ev","_this","detail","register","back","startsWith","URL","location","href","pathname","setPath","history","waitPromise","printDebug","group","_loop_1","forEach","r","apply","routes_1","groupEnd","printRoutes","redirects","redirects_1","redirect","printRedirects","navChanged","warn","getRouteId","chains","match","maxMatches","plainIDs","chains_1","routerIDsToChain","chain_1","param","chainToPath","safeWriteNavState","win","replaceState","title","redirectFrom","chains_2","matchedChain","routerPathToChain","unlock","e_2","lock","p","routeEvent","routeChangeEvent","__spreadArrays","pushState","writePath","loc","hash","prefix","removePrefix","readPath","redirectFromPath","redirectedFrom","getElement","RouterLink","routerDirection","onClick","openURL","render","mode","getIonMode","attrs","rel","target","h","Host","class","createColorClasses","color","hostContext","selector","closest","getClassMap","classes","isArray","c","getClassList","SCHEME","router","test","preventDefault"],"mappings":"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","file":"static/js/70.6d22357a.chunk.js","sourcesContent":["import { __awaiter, __generator, __spreadArrays } from \"tslib\";\r\nimport { r as registerInstance, c as createEvent, e as getElement, d as getIonMode, h, H as Host } from './core-ca0488fc.js';\r\nimport './config-3c7f3790.js';\r\nimport { e as debounce } from './helpers-46f4a262.js';\r\nimport { o as openURL, c as createColorClasses } from './theme-18cbe2cc.js';\r\nvar Route = /** @class */ (function () {\r\n    function Route(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        /**\r\n         * Relative path that needs to match in order for this route to apply.\r\n         *\r\n         * Accepts paths similar to expressjs so that you can define parameters\r\n         * in the url /foo/:bar where bar would be available in incoming props.\r\n         */\r\n        this.url = '';\r\n        this.ionRouteDataChanged = createEvent(this, \"ionRouteDataChanged\", 7);\r\n    }\r\n    Route.prototype.onUpdate = function (newValue) {\r\n        this.ionRouteDataChanged.emit(newValue);\r\n    };\r\n    Route.prototype.onComponentProps = function (newValue, oldValue) {\r\n        if (newValue === oldValue) {\r\n            return;\r\n        }\r\n        var keys1 = newValue ? Object.keys(newValue) : [];\r\n        var keys2 = oldValue ? Object.keys(oldValue) : [];\r\n        if (keys1.length !== keys2.length) {\r\n            this.onUpdate(newValue);\r\n            return;\r\n        }\r\n        for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\r\n            var key = keys1_1[_i];\r\n            if (newValue[key] !== oldValue[key]) {\r\n                this.onUpdate(newValue);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n    Route.prototype.connectedCallback = function () {\r\n        this.ionRouteDataChanged.emit();\r\n    };\r\n    Object.defineProperty(Route, \"watchers\", {\r\n        get: function () {\r\n            return {\r\n                \"url\": [\"onUpdate\"],\r\n                \"component\": [\"onUpdate\"],\r\n                \"componentProps\": [\"onComponentProps\"]\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return Route;\r\n}());\r\nvar RouteRedirect = /** @class */ (function () {\r\n    function RouteRedirect(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        this.ionRouteRedirectChanged = createEvent(this, \"ionRouteRedirectChanged\", 7);\r\n    }\r\n    RouteRedirect.prototype.propDidChange = function () {\r\n        this.ionRouteRedirectChanged.emit();\r\n    };\r\n    RouteRedirect.prototype.connectedCallback = function () {\r\n        this.ionRouteRedirectChanged.emit();\r\n    };\r\n    Object.defineProperty(RouteRedirect, \"watchers\", {\r\n        get: function () {\r\n            return {\r\n                \"from\": [\"propDidChange\"],\r\n                \"to\": [\"propDidChange\"]\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return RouteRedirect;\r\n}());\r\nvar ROUTER_INTENT_NONE = 'root';\r\nvar ROUTER_INTENT_FORWARD = 'forward';\r\nvar ROUTER_INTENT_BACK = 'back';\r\nvar generatePath = function (segments) {\r\n    var path = segments\r\n        .filter(function (s) { return s.length > 0; })\r\n        .join('/');\r\n    return '/' + path;\r\n};\r\nvar chainToPath = function (chain) {\r\n    var path = [];\r\n    for (var _i = 0, chain_1 = chain; _i < chain_1.length; _i++) {\r\n        var route = chain_1[_i];\r\n        for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\r\n            var segment = _b[_a];\r\n            if (segment[0] === ':') {\r\n                var param = route.params && route.params[segment.slice(1)];\r\n                if (!param) {\r\n                    return null;\r\n                }\r\n                path.push(param);\r\n            }\r\n            else if (segment !== '') {\r\n                path.push(segment);\r\n            }\r\n        }\r\n    }\r\n    return path;\r\n};\r\nvar writePath = function (history, root, useHash, path, direction, state) {\r\n    var url = generatePath(__spreadArrays(parsePath(root), path));\r\n    if (useHash) {\r\n        url = '#' + url;\r\n    }\r\n    if (direction === ROUTER_INTENT_FORWARD) {\r\n        history.pushState(state, '', url);\r\n    }\r\n    else {\r\n        history.replaceState(state, '', url);\r\n    }\r\n};\r\nvar removePrefix = function (prefix, path) {\r\n    if (prefix.length > path.length) {\r\n        return null;\r\n    }\r\n    if (prefix.length <= 1 && prefix[0] === '') {\r\n        return path;\r\n    }\r\n    for (var i = 0; i < prefix.length; i++) {\r\n        if (prefix[i].length > 0 && prefix[i] !== path[i]) {\r\n            return null;\r\n        }\r\n    }\r\n    if (path.length === prefix.length) {\r\n        return [''];\r\n    }\r\n    return path.slice(prefix.length);\r\n};\r\nvar readPath = function (loc, root, useHash) {\r\n    var pathname = loc.pathname;\r\n    if (useHash) {\r\n        var hash = loc.hash;\r\n        pathname = (hash[0] === '#')\r\n            ? hash.slice(1)\r\n            : '';\r\n    }\r\n    var prefix = parsePath(root);\r\n    var path = parsePath(pathname);\r\n    return removePrefix(prefix, path);\r\n};\r\nvar parsePath = function (path) {\r\n    if (path == null) {\r\n        return [''];\r\n    }\r\n    var segments = path.split('/')\r\n        .map(function (s) { return s.trim(); })\r\n        .filter(function (s) { return s.length > 0; });\r\n    if (segments.length === 0) {\r\n        return [''];\r\n    }\r\n    else {\r\n        return segments;\r\n    }\r\n};\r\nvar printRoutes = function (routes) {\r\n    console.group(\"[ion-core] ROUTES[\" + routes.length + \"]\");\r\n    var _loop_1 = function (chain) {\r\n        var path = [];\r\n        chain.forEach(function (r) { return path.push.apply(path, r.path); });\r\n        var ids = chain.map(function (r) { return r.id; });\r\n        console.debug(\"%c \" + generatePath(path), 'font-weight: bold; padding-left: 20px', '=>\\t', \"(\" + ids.join(', ') + \")\");\r\n    };\r\n    for (var _i = 0, routes_1 = routes; _i < routes_1.length; _i++) {\r\n        var chain = routes_1[_i];\r\n        _loop_1(chain);\r\n    }\r\n    console.groupEnd();\r\n};\r\nvar printRedirects = function (redirects) {\r\n    console.group(\"[ion-core] REDIRECTS[\" + redirects.length + \"]\");\r\n    for (var _i = 0, redirects_1 = redirects; _i < redirects_1.length; _i++) {\r\n        var redirect = redirects_1[_i];\r\n        if (redirect.to) {\r\n            console.debug('FROM: ', \"$c \" + generatePath(redirect.from), 'font-weight: bold', ' TO: ', \"$c \" + generatePath(redirect.to), 'font-weight: bold');\r\n        }\r\n    }\r\n    console.groupEnd();\r\n};\r\nvar writeNavState = function (root, chain, direction, index, changed) {\r\n    if (changed === void 0) { changed = false; }\r\n    return __awaiter(void 0, void 0, void 0, function () {\r\n        var outlet, route, result, e_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    _a.trys.push([0, 6, , 7]);\r\n                    outlet = searchNavNode(root);\r\n                    // make sure we can continue interacting the DOM, otherwise abort\r\n                    if (index >= chain.length || !outlet) {\r\n                        return [2 /*return*/, changed];\r\n                    }\r\n                    return [4 /*yield*/, outlet.componentOnReady()];\r\n                case 1:\r\n                    _a.sent();\r\n                    route = chain[index];\r\n                    return [4 /*yield*/, outlet.setRouteId(route.id, route.params, direction)];\r\n                case 2:\r\n                    result = _a.sent();\r\n                    // if the outlet changed the page, reset navigation to neutral (no direction)\r\n                    // this means nested outlets will not animate\r\n                    if (result.changed) {\r\n                        direction = ROUTER_INTENT_NONE;\r\n                        changed = true;\r\n                    }\r\n                    return [4 /*yield*/, writeNavState(result.element, chain, direction, index + 1, changed)];\r\n                case 3:\r\n                    // recursively set nested outlets\r\n                    changed = _a.sent();\r\n                    if (!result.markVisible) return [3 /*break*/, 5];\r\n                    return [4 /*yield*/, result.markVisible()];\r\n                case 4:\r\n                    _a.sent();\r\n                    _a.label = 5;\r\n                case 5: return [2 /*return*/, changed];\r\n                case 6:\r\n                    e_1 = _a.sent();\r\n                    console.error(e_1);\r\n                    return [2 /*return*/, false];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\nvar readNavState = function (root) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var ids, outlet, node, id;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0:\r\n                ids = [];\r\n                node = root;\r\n                _a.label = 1;\r\n            case 1:\r\n                if (!true) return [3 /*break*/, 5];\r\n                outlet = searchNavNode(node);\r\n                if (!outlet) return [3 /*break*/, 3];\r\n                return [4 /*yield*/, outlet.getRouteId()];\r\n            case 2:\r\n                id = _a.sent();\r\n                if (id) {\r\n                    node = id.element;\r\n                    id.element = undefined;\r\n                    ids.push(id);\r\n                }\r\n                else {\r\n                    return [3 /*break*/, 5];\r\n                }\r\n                return [3 /*break*/, 4];\r\n            case 3: return [3 /*break*/, 5];\r\n            case 4: return [3 /*break*/, 1];\r\n            case 5: return [2 /*return*/, { ids: ids, outlet: outlet }];\r\n        }\r\n    });\r\n}); };\r\nvar waitUntilNavNode = function () {\r\n    if (searchNavNode(document.body)) {\r\n        return Promise.resolve();\r\n    }\r\n    return new Promise(function (resolve) {\r\n        window.addEventListener('ionNavWillLoad', resolve, { once: true });\r\n    });\r\n};\r\nvar QUERY = ':not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet';\r\nvar searchNavNode = function (root) {\r\n    if (!root) {\r\n        return undefined;\r\n    }\r\n    if (root.matches(QUERY)) {\r\n        return root;\r\n    }\r\n    var outlet = root.querySelector(QUERY);\r\n    return outlet ? outlet : undefined;\r\n};\r\nvar matchesRedirect = function (input, route) {\r\n    var from = route.from, to = route.to;\r\n    if (to === undefined) {\r\n        return false;\r\n    }\r\n    if (from.length > input.length) {\r\n        return false;\r\n    }\r\n    for (var i = 0; i < from.length; i++) {\r\n        var expected = from[i];\r\n        if (expected === '*') {\r\n            return true;\r\n        }\r\n        if (expected !== input[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return from.length === input.length;\r\n};\r\nvar routeRedirect = function (path, routes) {\r\n    return routes.find(function (route) { return matchesRedirect(path, route); });\r\n};\r\nvar matchesIDs = function (ids, chain) {\r\n    var len = Math.min(ids.length, chain.length);\r\n    var i = 0;\r\n    for (; i < len; i++) {\r\n        if (ids[i].toLowerCase() !== chain[i].id) {\r\n            break;\r\n        }\r\n    }\r\n    return i;\r\n};\r\nvar matchesPath = function (inputPath, chain) {\r\n    var segments = new RouterSegments(inputPath);\r\n    var matchesDefault = false;\r\n    var allparams;\r\n    for (var i = 0; i < chain.length; i++) {\r\n        var path = chain[i].path;\r\n        if (path[0] === '') {\r\n            matchesDefault = true;\r\n        }\r\n        else {\r\n            for (var _i = 0, path_1 = path; _i < path_1.length; _i++) {\r\n                var segment = path_1[_i];\r\n                var data = segments.next();\r\n                // data param\r\n                if (segment[0] === ':') {\r\n                    if (data === '') {\r\n                        return null;\r\n                    }\r\n                    allparams = allparams || [];\r\n                    var params = allparams[i] || (allparams[i] = {});\r\n                    params[segment.slice(1)] = data;\r\n                }\r\n                else if (data !== segment) {\r\n                    return null;\r\n                }\r\n            }\r\n            matchesDefault = false;\r\n        }\r\n    }\r\n    var matches = (matchesDefault)\r\n        ? matchesDefault === (segments.next() === '')\r\n        : true;\r\n    if (!matches) {\r\n        return null;\r\n    }\r\n    if (allparams) {\r\n        return chain.map(function (route, i) { return ({\r\n            id: route.id,\r\n            path: route.path,\r\n            params: mergeParams(route.params, allparams[i])\r\n        }); });\r\n    }\r\n    return chain;\r\n};\r\nvar mergeParams = function (a, b) {\r\n    if (!a && b) {\r\n        return b;\r\n    }\r\n    else if (a && !b) {\r\n        return a;\r\n    }\r\n    else if (a && b) {\r\n        return Object.assign(Object.assign({}, a), b);\r\n    }\r\n    return undefined;\r\n};\r\nvar routerIDsToChain = function (ids, chains) {\r\n    var match = null;\r\n    var maxMatches = 0;\r\n    var plainIDs = ids.map(function (i) { return i.id; });\r\n    for (var _i = 0, chains_1 = chains; _i < chains_1.length; _i++) {\r\n        var chain = chains_1[_i];\r\n        var score = matchesIDs(plainIDs, chain);\r\n        if (score > maxMatches) {\r\n            match = chain;\r\n            maxMatches = score;\r\n        }\r\n    }\r\n    if (match) {\r\n        return match.map(function (route, i) { return ({\r\n            id: route.id,\r\n            path: route.path,\r\n            params: mergeParams(route.params, ids[i] && ids[i].params)\r\n        }); });\r\n    }\r\n    return null;\r\n};\r\nvar routerPathToChain = function (path, chains) {\r\n    var match = null;\r\n    var matches = 0;\r\n    for (var _i = 0, chains_2 = chains; _i < chains_2.length; _i++) {\r\n        var chain = chains_2[_i];\r\n        var matchedChain = matchesPath(path, chain);\r\n        if (matchedChain !== null) {\r\n            var score = computePriority(matchedChain);\r\n            if (score > matches) {\r\n                matches = score;\r\n                match = matchedChain;\r\n            }\r\n        }\r\n    }\r\n    return match;\r\n};\r\nvar computePriority = function (chain) {\r\n    var score = 1;\r\n    var level = 1;\r\n    for (var _i = 0, chain_2 = chain; _i < chain_2.length; _i++) {\r\n        var route = chain_2[_i];\r\n        for (var _a = 0, _b = route.path; _a < _b.length; _a++) {\r\n            var path = _b[_a];\r\n            if (path[0] === ':') {\r\n                score += Math.pow(1, level);\r\n            }\r\n            else if (path !== '') {\r\n                score += Math.pow(2, level);\r\n            }\r\n            level++;\r\n        }\r\n    }\r\n    return score;\r\n};\r\nvar RouterSegments = /** @class */ (function () {\r\n    function RouterSegments(path) {\r\n        this.path = path.slice();\r\n    }\r\n    RouterSegments.prototype.next = function () {\r\n        if (this.path.length > 0) {\r\n            return this.path.shift();\r\n        }\r\n        return '';\r\n    };\r\n    return RouterSegments;\r\n}());\r\nvar readRedirects = function (root) {\r\n    return Array.from(root.children)\r\n        .filter(function (el) { return el.tagName === 'ION-ROUTE-REDIRECT'; })\r\n        .map(function (el) {\r\n        var to = readProp(el, 'to');\r\n        return {\r\n            from: parsePath(readProp(el, 'from')),\r\n            to: to == null ? undefined : parsePath(to),\r\n        };\r\n    });\r\n};\r\nvar readRoutes = function (root) {\r\n    return flattenRouterTree(readRouteNodes(root));\r\n};\r\nvar readRouteNodes = function (root, node) {\r\n    if (node === void 0) { node = root; }\r\n    return Array.from(node.children)\r\n        .filter(function (el) { return el.tagName === 'ION-ROUTE' && el.component; })\r\n        .map(function (el) {\r\n        var component = readProp(el, 'component');\r\n        if (component == null) {\r\n            throw new Error('component missing in ion-route');\r\n        }\r\n        return {\r\n            path: parsePath(readProp(el, 'url')),\r\n            id: component.toLowerCase(),\r\n            params: el.componentProps,\r\n            children: readRouteNodes(root, el)\r\n        };\r\n    });\r\n};\r\nvar readProp = function (el, prop) {\r\n    if (prop in el) {\r\n        return el[prop];\r\n    }\r\n    if (el.hasAttribute(prop)) {\r\n        return el.getAttribute(prop);\r\n    }\r\n    return null;\r\n};\r\nvar flattenRouterTree = function (nodes) {\r\n    var routes = [];\r\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\r\n        var node = nodes_1[_i];\r\n        flattenNode([], routes, node);\r\n    }\r\n    return routes;\r\n};\r\nvar flattenNode = function (chain, routes, node) {\r\n    var s = chain.slice();\r\n    s.push({\r\n        id: node.id,\r\n        path: node.path,\r\n        params: node.params\r\n    });\r\n    if (node.children.length === 0) {\r\n        routes.push(s);\r\n        return;\r\n    }\r\n    for (var _i = 0, _a = node.children; _i < _a.length; _i++) {\r\n        var sub = _a[_i];\r\n        flattenNode(s, routes, sub);\r\n    }\r\n};\r\nvar Router = /** @class */ (function () {\r\n    function class_1(hostRef) {\r\n        registerInstance(this, hostRef);\r\n        this.previousPath = null;\r\n        this.busy = false;\r\n        this.state = 0;\r\n        this.lastState = 0;\r\n        /**\r\n         * By default `ion-router` will match the routes at the root path (\"/\").\r\n         * That can be changed when\r\n         *\r\n         */\r\n        this.root = '/';\r\n        /**\r\n         * The router can work in two \"modes\":\r\n         * - With hash: `/index.html#/path/to/page`\r\n         * - Without hash: `/path/to/page`\r\n         *\r\n         * Using one or another might depend in the requirements of your app and/or where it's deployed.\r\n         *\r\n         * Usually \"hash-less\" navigation works better for SEO and it's more user friendly too, but it might\r\n         * requires additional server-side configuration in order to properly work.\r\n         *\r\n         * On the otherside hash-navigation is much easier to deploy, it even works over the file protocol.\r\n         *\r\n         * By default, this property is `true`, change to `false` to allow hash-less URLs.\r\n         */\r\n        this.useHash = true;\r\n        this.ionRouteWillChange = createEvent(this, \"ionRouteWillChange\", 7);\r\n        this.ionRouteDidChange = createEvent(this, \"ionRouteDidChange\", 7);\r\n    }\r\n    class_1.prototype.componentWillLoad = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        console.debug('[ion-router] router will load');\r\n                        return [4 /*yield*/, waitUntilNavNode()];\r\n                    case 1:\r\n                        _a.sent();\r\n                        console.debug('[ion-router] found nav');\r\n                        return [4 /*yield*/, this.onRoutesChanged()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.componentDidLoad = function () {\r\n        window.addEventListener('ionRouteRedirectChanged', debounce(this.onRedirectChanged.bind(this), 10));\r\n        window.addEventListener('ionRouteDataChanged', debounce(this.onRoutesChanged.bind(this), 100));\r\n    };\r\n    class_1.prototype.onPopState = function () {\r\n        var direction = this.historyDirection();\r\n        var path = this.getPath();\r\n        console.debug('[ion-router] URL changed -> update nav', path, direction);\r\n        return this.writeNavStateRoot(path, direction);\r\n    };\r\n    class_1.prototype.onBackButton = function (ev) {\r\n        var _this = this;\r\n        ev.detail.register(0, function () { return _this.back(); });\r\n    };\r\n    /**\r\n     * Navigate to the specified URL.\r\n     *\r\n     * @param url The url to navigate to.\r\n     * @param direction The direction of the animation. Defaults to `\"forward\"`.\r\n     */\r\n    class_1.prototype.push = function (url, direction) {\r\n        if (direction === void 0) { direction = 'forward'; }\r\n        if (url.startsWith('.')) {\r\n            url = (new URL(url, window.location.href)).pathname;\r\n        }\r\n        console.debug('[ion-router] URL pushed -> updating nav', url, direction);\r\n        var path = parsePath(url);\r\n        this.setPath(path, direction);\r\n        return this.writeNavStateRoot(path, direction);\r\n    };\r\n    /**\r\n     * Go back to previous page in the window.history.\r\n     */\r\n    class_1.prototype.back = function () {\r\n        window.history.back();\r\n        return Promise.resolve(this.waitPromise);\r\n    };\r\n    /** @internal */\r\n    class_1.prototype.printDebug = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                console.debug('CURRENT PATH', this.getPath());\r\n                console.debug('PREVIOUS PATH', this.previousPath);\r\n                printRoutes(readRoutes(this.el));\r\n                printRedirects(readRedirects(this.el));\r\n                return [2 /*return*/];\r\n            });\r\n        });\r\n    };\r\n    /** @internal */\r\n    class_1.prototype.navChanged = function (direction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, ids, outlet, routes, chain, path;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        if (this.busy) {\r\n                            console.warn('[ion-router] router is busy, navChanged was cancelled');\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        return [4 /*yield*/, readNavState(window.document.body)];\r\n                    case 1:\r\n                        _a = _b.sent(), ids = _a.ids, outlet = _a.outlet;\r\n                        routes = readRoutes(this.el);\r\n                        chain = routerIDsToChain(ids, routes);\r\n                        if (!chain) {\r\n                            console.warn('[ion-router] no matching URL for ', ids.map(function (i) { return i.id; }));\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        path = chainToPath(chain);\r\n                        if (!path) {\r\n                            console.warn('[ion-router] router could not match path because some required param is missing');\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        console.debug('[ion-router] nav changed -> update URL', ids, path);\r\n                        this.setPath(path, direction);\r\n                        return [4 /*yield*/, this.safeWriteNavState(outlet, chain, ROUTER_INTENT_NONE, path, null, ids.length)];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/, true];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.onRedirectChanged = function () {\r\n        var path = this.getPath();\r\n        if (path && routeRedirect(path, readRedirects(this.el))) {\r\n            this.writeNavStateRoot(path, ROUTER_INTENT_NONE);\r\n        }\r\n    };\r\n    class_1.prototype.onRoutesChanged = function () {\r\n        return this.writeNavStateRoot(this.getPath(), ROUTER_INTENT_NONE);\r\n    };\r\n    class_1.prototype.historyDirection = function () {\r\n        var win = window;\r\n        if (win.history.state === null) {\r\n            this.state++;\r\n            win.history.replaceState(this.state, win.document.title, win.document.location && win.document.location.href);\r\n        }\r\n        var state = win.history.state;\r\n        var lastState = this.lastState;\r\n        this.lastState = state;\r\n        if (state > lastState) {\r\n            return ROUTER_INTENT_FORWARD;\r\n        }\r\n        else if (state < lastState) {\r\n            return ROUTER_INTENT_BACK;\r\n        }\r\n        else {\r\n            return ROUTER_INTENT_NONE;\r\n        }\r\n    };\r\n    class_1.prototype.writeNavStateRoot = function (path, direction) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var redirects, redirect, redirectFrom, routes, chain;\r\n            return __generator(this, function (_a) {\r\n                if (!path) {\r\n                    console.error('[ion-router] URL is not part of the routing set');\r\n                    return [2 /*return*/, false];\r\n                }\r\n                redirects = readRedirects(this.el);\r\n                redirect = routeRedirect(path, redirects);\r\n                redirectFrom = null;\r\n                if (redirect) {\r\n                    this.setPath(redirect.to, direction);\r\n                    redirectFrom = redirect.from;\r\n                    path = redirect.to;\r\n                }\r\n                routes = readRoutes(this.el);\r\n                chain = routerPathToChain(path, routes);\r\n                if (!chain) {\r\n                    console.error('[ion-router] the path does not match any route');\r\n                    return [2 /*return*/, false];\r\n                }\r\n                // write DOM give\r\n                return [2 /*return*/, this.safeWriteNavState(document.body, chain, direction, path, redirectFrom)];\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.safeWriteNavState = function (node, chain, direction, path, redirectFrom, index) {\r\n        if (index === void 0) { index = 0; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var unlock, changed, e_2;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.lock()];\r\n                    case 1:\r\n                        unlock = _a.sent();\r\n                        changed = false;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        _a.trys.push([2, 4, , 5]);\r\n                        return [4 /*yield*/, this.writeNavState(node, chain, direction, path, redirectFrom, index)];\r\n                    case 3:\r\n                        changed = _a.sent();\r\n                        return [3 /*break*/, 5];\r\n                    case 4:\r\n                        e_2 = _a.sent();\r\n                        console.error(e_2);\r\n                        return [3 /*break*/, 5];\r\n                    case 5:\r\n                        unlock();\r\n                        return [2 /*return*/, changed];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.lock = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var p, resolve;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        p = this.waitPromise;\r\n                        this.waitPromise = new Promise(function (r) { return resolve = r; });\r\n                        if (!(p !== undefined)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, p];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, resolve];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.writeNavState = function (node, chain, direction, path, redirectFrom, index) {\r\n        if (index === void 0) { index = 0; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var routeEvent, changed;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.busy) {\r\n                            console.warn('[ion-router] router is busy, transition was cancelled');\r\n                            return [2 /*return*/, false];\r\n                        }\r\n                        this.busy = true;\r\n                        routeEvent = this.routeChangeEvent(path, redirectFrom);\r\n                        if (routeEvent) {\r\n                            this.ionRouteWillChange.emit(routeEvent);\r\n                        }\r\n                        return [4 /*yield*/, writeNavState(node, chain, direction, index)];\r\n                    case 1:\r\n                        changed = _a.sent();\r\n                        this.busy = false;\r\n                        if (changed) {\r\n                            console.debug('[ion-router] route changed', path);\r\n                        }\r\n                        // emit did change\r\n                        if (routeEvent) {\r\n                            this.ionRouteDidChange.emit(routeEvent);\r\n                        }\r\n                        return [2 /*return*/, changed];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    class_1.prototype.setPath = function (path, direction) {\r\n        this.state++;\r\n        writePath(window.history, this.root, this.useHash, path, direction, this.state);\r\n    };\r\n    class_1.prototype.getPath = function () {\r\n        return readPath(window.location, this.root, this.useHash);\r\n    };\r\n    class_1.prototype.routeChangeEvent = function (path, redirectFromPath) {\r\n        var from = this.previousPath;\r\n        var to = generatePath(path);\r\n        this.previousPath = to;\r\n        if (to === from) {\r\n            return null;\r\n        }\r\n        var redirectedFrom = redirectFromPath ? generatePath(redirectFromPath) : null;\r\n        return {\r\n            from: from,\r\n            redirectedFrom: redirectedFrom,\r\n            to: to,\r\n        };\r\n    };\r\n    Object.defineProperty(class_1.prototype, \"el\", {\r\n        get: function () { return getElement(this); },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return class_1;\r\n}());\r\nvar RouterLink = /** @class */ (function () {\r\n    function RouterLink(hostRef) {\r\n        var _this = this;\r\n        registerInstance(this, hostRef);\r\n        /**\r\n         * When using a router, it specifies the transition direction when navigating to\r\n         * another page using `href`.\r\n         */\r\n        this.routerDirection = 'forward';\r\n        this.onClick = function (ev) {\r\n            openURL(_this.href, ev, _this.routerDirection);\r\n        };\r\n    }\r\n    RouterLink.prototype.render = function () {\r\n        var _a;\r\n        var mode = getIonMode(this);\r\n        var attrs = {\r\n            href: this.href,\r\n            rel: this.rel,\r\n            target: this.target\r\n        };\r\n        return (h(Host, { onClick: this.onClick, class: Object.assign(Object.assign({}, createColorClasses(this.color)), (_a = {}, _a[mode] = true, _a['ion-activatable'] = true, _a)) }, h(\"a\", Object.assign({}, attrs), h(\"slot\", null))));\r\n    };\r\n    Object.defineProperty(RouterLink, \"style\", {\r\n        get: function () { return \":host{--background:transparent;--color:var(--ion-color-primary,#3880ff);background:var(--background);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}a{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit}\"; },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return RouterLink;\r\n}());\r\nexport { Route as ion_route, RouteRedirect as ion_route_redirect, Router as ion_router, RouterLink as ion_router_link };\r\n","import { __awaiter, __generator } from \"tslib\";\r\nvar hostContext = function (selector, el) {\r\n    return el.closest(selector) !== null;\r\n};\r\n/**\r\n * Create the mode and color classes for the component based on the classes passed in\r\n */\r\nvar createColorClasses = function (color) {\r\n    var _a;\r\n    return (typeof color === 'string' && color.length > 0) ? (_a = {\r\n            'ion-color': true\r\n        },\r\n        _a[\"ion-color-\" + color] = true,\r\n        _a) : undefined;\r\n};\r\nvar getClassList = function (classes) {\r\n    if (classes !== undefined) {\r\n        var array = Array.isArray(classes) ? classes : classes.split(' ');\r\n        return array\r\n            .filter(function (c) { return c != null; })\r\n            .map(function (c) { return c.trim(); })\r\n            .filter(function (c) { return c !== ''; });\r\n    }\r\n    return [];\r\n};\r\nvar getClassMap = function (classes) {\r\n    var map = {};\r\n    getClassList(classes).forEach(function (c) { return map[c] = true; });\r\n    return map;\r\n};\r\nvar SCHEME = /^[a-z][a-z0-9+\\-.]*:/;\r\nvar openURL = function (url, ev, direction) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var router;\r\n    return __generator(this, function (_a) {\r\n        if (url != null && url[0] !== '#' && !SCHEME.test(url)) {\r\n            router = document.querySelector('ion-router');\r\n            if (router) {\r\n                if (ev != null) {\r\n                    ev.preventDefault();\r\n                }\r\n                return [2 /*return*/, router.push(url, direction)];\r\n            }\r\n        }\r\n        return [2 /*return*/, false];\r\n    });\r\n}); };\r\nexport { createColorClasses as c, getClassMap as g, hostContext as h, openURL as o };\r\n"],"sourceRoot":""}